var status = -1;
var text;

function CashItemFactory(name, items) {
    var obj = new Object();
    obj.name = name;
    obj.items = items;

    obj.getItemID = function (index) {
        return this.items[index][0];
    };
    obj.getItemPrice = function (index) {
        return this.items[index][1];
    }

    return obj;
}

var cashItems = [
    CashItemFactory("上衣", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("下装", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("武器", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("披风", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("帽子", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("帽子2", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("装饰", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("鞋子", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("手套", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("套装", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("戒指", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),
    CashItemFactory("情侣专卖", [
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
        [1242004, 100],
    ]),

]

function start() {
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == 0) {
        cm.dispose();
    } else {
        if (mode == 1) {
            status++;
        } else {
            status--;
        }

        if (status == 0) {
            text = "\t\t\t#e#d欢迎来到" + cm.getServerName() + "时装店\r\n";
            for (var i = 0; i < 40; i++) {
                text += "-";
            }
            text += "\r\n#r";
            cashItems.forEach(function(value, index, array) {
                text += (index % 2 == 0 ? "\t\t\t" : "  ") + "#L" + index + "#" + value.name + "#l" + (index % 2 == 1 ? "\r\n" : "\t");
            })
            cm.sendOk(text);
        } else if (status == 1) {
            cm.sendOk("预留");
            cm.dispose();
        }
    }
}