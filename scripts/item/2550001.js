importClass(java.util.Calendar);
var 爱心 = "#fEffect/CharacterEff/1022223/4/0#";
var 红色箭头 = "#fUI/UIWindow/Quest/icon6/7#";
var 蓝色角点 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var 礼包物品 = "#v1302000#";
var x1 = "1302000,+1";// 物品ID,数量
var x2;
var x3;
var x4;
var add = "#fEffect/CharacterEff/1112903/0/0#";//红桃心
var aaa = "#fUI/UIWindow.img/Quest/icon9/0#";//红色右箭头
var zzz = "#fUI/UIWindow.img/Quest/icon8/0#";//蓝色右箭头
var sss = "#fUI/UIWindow.img/QuestIcon/3/0#";//选择道具
var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 感叹号 = "#fUI/UIWindow/Quest/icon0#";
var 美化new = "#fUI/UIWindow/Quest/icon5/1#";
var 圆形 = "#fUI/UIWindow/Quest/icon3/6#";
var 红色箭头 = "#fEffect/CharacterEff/1112908/0/1#";  //彩光3
var ttt1 = "#fEffect/CharacterEff/1062114/1/0#";  //爱心
var 蓝色角点 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var iconQ = "#fUI/UIWindow2.img/Megaphone/0#";
var aaa = "#fUI/UIWindow/AriantMatch/characterIcon/5#";
var yun = "#fUI/UIWindow/Megaphone/2#";////红沙漏
var yun2 = "#fUI/UIWindow/Quest/icon8/0#";////蓝指标
var yun8 = "#fUI/UIWindow/MonsterBook/arrowLeft/normal/0#";////金左指标
var yun9 = "#fUI/UIWindow/MonsterBook/arrowRight/normal/0#";////金右指标
var yun4 = "#fUI/UIWindow/Quest/reward#";////奖励
var ttt = "#fUI/UIWindow/Quest/icon2/7#";//"+ttt+"//美化1
var ttt2 = "#fUI/UIWindow/Quest/icon6/7#";////美化2
var ttt3 = "#fUI/UIWindow/Quest/icon3/6#";//"+ttt3+"//美化圆
var ttt4 = "#fUI/UIWindow/Quest/icon5/1#";//"+ttt4+"//美化New
var ttt5 = "#fUI/UIWindow/Quest/icon0#";////美化!
var ttt7 = "#fUI/Basic/BtHide3/mouseOver/0#";//"+ttt6+"//美化会员
var ttt6 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var eff = "#fCharacter/Weapon/01702523.img/48/straight/0/effect#"; //彩虹带
var eff = "#fEffect/CharacterEff/1112905/0/1#"; //
var epp ="#fEffect/CharacterEff/1112906/0/0#";//白色兔子
var epp1 = "#fEffect/CharacterEff/1082312/2/0#"; //彩光1
var axx = "#fEffect/CharacterEff/1051294/0/0#";  //爱心
var xxx = "#fEffect/CharacterEff/1082565/2/0#"; //星系
var ppp = "#fEffect/CharacterEff/1112907/4/0#"; //泡炮 
var epp3 = "#fEffect/CharacterEff/1112908/0/1#";  //彩光3
var tz9 = "#fEffect/CharacterEff/1042176/2/0#";  //爱心
var zs = "#fEffect/CharacterEff/1112946/2/0#";  //砖石粉
var zs1 = "#fEffect/CharacterEff/1112946/1/1#";  //砖石蓝
var dxxx = "#fEffect/CharacterEff/1102232/2/0#"; //星系
var tz = "#fEffect/CharacterEff/1082565/2/0#";  //兔子蓝
var tz1 = "#fEffect/CharacterEff/1082565/4/0#";  //兔子粉
var tz7 = "#fEffect/CharacterEff/1112900/3/1#";  //音符红
var tz8 = "#fEffect/CharacterEff/1112900/4/1#";  //音符绿
var tz88 = "#fEffect/CharacterEff/1112900/5/1#";  //音符绿!
var yun1 = "#fUI/UIWindow/Quest/icon7/10#";////红色圆
var axx1 = "#fEffect/CharacterEff/1112902/0/0#";  //蓝心
var tz10 = "#fEffect/CharacterEff/1112925/0/1#";  //红心
var tz11 = "#fEffect/CharacterEff/1112904/0/0#";  //彩心
var tz12 = "#fEffect/CharacterEff/1112924/0/0#";  //黄星
var tz13 = "#fEffect/CharacterEff/1112925/0/0#";  //蓝星
var tz14 = "#fEffect/CharacterEff/1112926/0/0#";  //红星
var tz15 = "#fEffect/CharacterEff/1112949/0/0#";  //花样音符
var tz16 = "#fEffect/CharacterEff/1112949/1/0#";  //花样音符
var tz17 = "#fEffect/CharacterEff/1112949/2/0#";  //花样音符
var tz18 = "#fEffect/CharacterEff/1112949/3/0#";  //花样音符
var tz19 = "#fEffect/CharacterEff/1112949/4/0#";  //花样音符
var tz20 = "#fEffect/CharacterEff/1114000/1/0#";  //红星花
var a1 = "#fEffect/CharacterEff/1003393/1/0#";  //黄色星星
var xg = "#fEffect/CharacterEff/1112901/0/1#"; //黄色星星
var hs = "#fEffect/CharacterEff/1114000/2/0#"; //红色闪光
var hsq = "#fEffect/CharacterEff/forceAtom/0/atom/1/parentAtom/1#"; //红色球
var ax = "#fEffect/CharacterEff/1112906/0/1#"; //黄色星星
var ax2 = "#fEffect/CharacterEff/1112903/1/1#"; //黄色星星
var ax3 = "#fEffect/CharacterEff/1051294/1/4#"; //黄色星星
var xxpf = "#fEffect/ItemEff/1102537/effect/ladder/1#"; //星星披风
var zhx="#fUI/Basic/HScr7/enabled/thumb0#"; 
var asd1 = "#fEffect/CharacterEff/1003271/0/0#";  //红色心心  
var asd2 = "#fEffect/CharacterEff/1112946/4/1#";  //钻石
var asd3 = "#fEffect/CharacterEff/1082229/0/0#";  //红心
var asd4 = "#fEffect/CharacterEff/1112905/0/1#"; //
var asd5 = "#fEffect/CharacterEff/1062114/1/0#";  //爱心
 var xm1= "#fUI/ChatBalloon/pet/1/nw#";
 var xm2= "#fUI/ChatBalloon/pet/1/ne#";
var z = "#fUI/UIWindow2.img/QuestAlarm/BtQ/normal/0#"; //"+z+"//美化
var questIcon = "#fUI/UIWindow2.img/QuestGuide/Button/WorldMapQuestToggle/normal/0#\r\n";

function start() {
    status = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == -1) {
        cm.dispose();
    } else {
        if (status >= 0 && mode == 0) {

            cm.sendOk("感谢你的光临！");
            cm.dispose();
            return;
        }
        if (mode == 1) {
            status++;
        } else {
            status--;
        }
        if (status == 0) {
            var text = "";
            for (i = 0; i < 10; i++) {
                text += "";
            }
            text += " \t  #e#d欢迎来到#r" + cm.getChannelServer().getServerName() + "每日月卡福利中心#k#n\r\n"


	text += "\r\n#fEffect/ItemEff/1112811/0/0##fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k";

            text += " \t  #e#r尊贵的会员，请选择：#k#n\r\n"

          //  text += "\t\t\t#e#d当前在线时间：" + cm.getGamePoints() + "分钟#k#n\r\n"


            text += " #b#L1# "+tz14+"每日点卷#l"
			text += " #b#L2# "+tz14+"每日抵用#l"
            text += " #b#L3# "+tz14+"每日卷轴#l"




	text += "\r\n\r\n#fEffect/ItemEff/1112811/0/0##fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k#fEffect/ItemEff/1112811/0/0##n#k";





			//text += " #L2##e#b经济理财（每日签到）#l\r\n\r\n"
		    //text += " #L3#豪华理财（每日签到）#l\r\n\r\n"


        //    text += " #L5#领取签到奖励#l \r\n\r\n"
            cm.sendSimple(text);
        } else if (selection == 1) {
			var 时 = Calendar.getInstance().get(Calendar.HOUR_OF_DAY);
            var 分 = Calendar.getInstance().get(Calendar.MINUTE);
			if((时 == 23 && 分 >= 30) || (时 == 0 && 分 <= 20)){
				cm.sendOk("抱歉，#r23点30分#k 至 #r0点20分#k 为系统更新每日时间段，无法领取。");
				cm.dispose();
				return;
			}
            if (cm.getBossLog("点券") == 0 ) {//获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('点券');//设置3倍经验卡领取记录
                cm.sendOk("恭喜领取成功，获得2000点券！");
	          	cm.gainNX(2000);			
				cm.全服公告( " 【每日月卡】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取[2000点券]爆肝愉快~");               
				cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }

        } else if (selection == 2) {
			var 时 = Calendar.getInstance().get(Calendar.HOUR_OF_DAY);
            var 分 = Calendar.getInstance().get(Calendar.MINUTE);
			if((时 == 23 && 分 >= 30) || (时 == 0 && 分 <= 20)){
				cm.sendOk("抱歉，23点30分 至 0点20分 为系统更新每日时间段，无法领取。");
				cm.dispose();
				return;
			}
            if (cm.getBossLog("抵用券") == 0 ) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('抵用券');    //设置2倍爆率卡领取记录
                cm.sendOk("恭喜领取成功，获得3000抵用券！");
	cm.gainDY(3000);    //双倍经验卡24小时			
	cm.全服公告( "【每日月卡】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取[3000抵用券]，爆肝愉快~");               
	cm.dispose();

            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }
        } else if (selection == 3) {
			var 时 = Calendar.getInstance().get(Calendar.HOUR_OF_DAY);
            var 分 = Calendar.getInstance().get(Calendar.MINUTE);
			if((时 == 23 && 分 >= 30) || (时 == 0 && 分 <= 20)){
				cm.sendOk("抱歉，23点30分 至 0点20分 为系统更新每日时间段，无法领取。");
				cm.dispose();
				return;
			}
            if (cm.getBossLog("卷轴") == 0 && cm.判断背包消耗栏().getNumFreeSlot() >= 2) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('卷轴');    //设置金币领取记录
                cm.sendOk("恭喜领取成功，获得 3张祝福 3张混沌 ！");
				cm.gainItem(2340000,3);
				cm.gainItem(2049100,3);			
	cm.全服公告( "【每日月卡】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取 [3张祝福 3张混沌]，爆肝愉快~");               
	cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了，或您的背包已满！");
                cm.dispose();
            }

        } else if (selection == 4) {
            if (cm.getBossLog("VIP点券") == 0 ) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('VIP点券');    //设置点卷领取记录

				
                cm.sendOk("恭喜领取成功，获得点卷3000点，抵用卷3000点 ！");

				cm.gainNX(3000);//点卷3000点
				cm.gainDY(3000);//抵用卷3000点

				
	cm.全服公告( "【会员福利】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取 [点卷（3000点）抵用卷 （3000点）]，爆肝愉快~");               
	 cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }

        } else if (selection == 5) {
            if (cm.getBossLog("VIP卷") == 0 ) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('VIP卷');    //设置卷轴领取记录

				
                cm.sendOk("恭喜领取成功，获得必成自选1个 ！");



				cm.gainItem(2022465,1);//强化混沌卷
			//	cm.gainItem(2340000,10);//祝福卷


				
	cm.全服公告( "【会员福利】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取 [祝福卷（10个）强化混沌卷 （10个）]，爆肝愉快~");               
	 cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }

        } else if (selection == 10) {
            if (cm.getBossLog("vip戒指") == 0 ) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('vip戒指');    //设置卷轴领取记录	
                cm.sendOk("恭喜领取成功\r\n\r\n获得道具如下：\r\n\r\n#r#z1112138# 全属性+20，攻击魔力+20戒指1个！\r\n\r\n#z1112245# 全属性+20，攻击魔力+20戒指1个！\r\n\r\n");
			 cm.gainItem(1112138,20,20,20,20,200,200,20,20,0,0,0,0,0,0,24);
			 cm.gainItem(1112245,20,20,20,20,200,200,20,20,0,0,0,0,0,0,24);



				
	cm.全服公告( " 【会员福利】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取 [ 全属性+20 vip戒指（一对）]，爆肝愉快~");               
	 cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }


        } else if (selection == 6) {//自选发型
            cm.openNpc(1012117, 1);

        } else if (selection == 7) {//自选脸型
            cm.openNpc(1012117, 2);

        } else if (selection == 8) {//公婆戒指
           if (cm.getBossLog("VIP材料") == 0 ) {   //获取玩家签到状态&& cm.haveItem(2022615, 1)
                cm.setBossLog('VIP材料');    //设置卷轴领取记录

				
                


				cm.gainItem(4032246,2);//强化混沌卷
				cm.gainItem(4001248,2);//祝福卷
				cm.gainItem(4000186,2);//祝福卷
				cm.gainItem(4110001,2);//祝福卷
				cm.gainItem(4001017,2);//祝福卷
				cm.gainItem(4031179,2);//祝福卷
	cm.全服公告( " 【会员福利】恭喜玩家 [ " + cm.getPlayer().getName() + "] 成功领取 [ 每日BOSS门票]，爆肝愉快~");               
cm.dispose();
            } else {
                cm.sendOk("您今日已领取过了！");
                cm.dispose();
            }


        } else if (selection == 9) {//专属商店
           // cm.openNpc(9900004, 5111);
		cm.sendOk("暂未开放!");


        }
    }
}










/*        } else if (selection == 1) {
            if (cm.getBossLog("1vipqiandao") == 0 && cm.haveItem(2022615, 1)) {//获取玩家签到状态
                cm.setBossLog('1vipqiandao');//设置签到次数
                cm.getPlayer().gainqiandao(1);
                cm.sendOk("恭喜签到成功！");
				cm.gainItem(4031890,3);
				cm.gainItem(2340000,1);
				cm.gainMeso(1500000);
				cm.gainNX(3000);

				
                cm.喇叭(1, "[每日签到]：" + cm.getPlayer().getName() + "，今日已成功签到普通理财！当前总签到天数为：" + cm.getPlayer().getqiandao() + "天.");
                cm.dispose();
            } else {
                cm.sendOk("您今日已签到过了！或者你没有VIP");
                cm.dispose();
            }

        } else if (selection == 2) {
            if (cm.getBossLog("2vipqiandao") == 0 && cm.haveItem(3700149, 1)) {//获取玩家签到状态
                cm.setBossLog('2vipqiandao');//设置签到次数
                cm.getPlayer().gainqiandao(1);
                cm.sendOk("恭喜签到成功！");
				cm.gainMeso(500000);
				cm.gainNX(500);
				cm.gainItem(2049116,2);
				cm.gainItem(2340000,2);
				cm.喇叭(1, "[每日签到]：" + cm.getPlayer().getName() + "，今日已成功签到经济理财！当前总签到天数为：" + cm.getPlayer().getqiandao() + "天.");
                cm.dispose();
            } else {
                cm.sendOk("您今日已签到过了！或者你没有VIP");
                cm.dispose();
            }
            // cm.openNpc(9900004, 1112);

        } else if (selection == 3) {
            if (cm.getBossLog("3vipqiandao") == 0 && cm.haveItem(3700148, 1)) {//获取玩家签到状态
                cm.setBossLog('3vipqiandao');//设置签到次数
                cm.getPlayer().gainqiandao(1);
                cm.sendOk("恭喜签到成功！");
				cm.gainMeso(1000000);
				cm.gainNX(1000);
				cm.gainItem(2049116,3);
				cm.gainItem(2340000,3);
                cm.喇叭(1, "[每日签到]：" + cm.getPlayer().getName() + "，今日已成功签到豪华理财！当前总签到天数为：" + cm.getPlayer().getqiandao() + "天.");
                cm.dispose();
            } else {
                cm.sendOk("您今日已签到过了！或者你没有VIP");
                cm.dispose();
	        }

        } else if (selection == 4) {
            cm.openNpc(9900004, 1114);

        } else if (selection == 5) {
            cm.openNpc(9900004, 1112);
			
        } else if (selection == 6) {
            cm.openNpc(9900004, 1113);


*/
